<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Brain Mentor - Home</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" type="text/css" href="/static/style.css">
        <link rel="stylesheet" type="text/css" href="/static/styles.css">
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@200&display=swap"
            rel="stylesheet">

        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
            crossorigin="anonymous">

        <link rel="apple-touch-icon" sizes="76x76" href="static/images/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32"
            href="static/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16"
            href="static/images/favicon-16x16.png">
        <link rel="manifest" href="static/images/site.webmanifest">
        <link rel="mask-icon" href="static/images/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <script src="https://kit.fontawesome.com/b33b219100.js"
            crossorigin="anonymous"></script>

        <script
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </head>

    <body>
         {% if session %}
       
        <!-- Account Creation Message -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{category}} alert-dismissible fade show"
                role="alert">
                <strong>Message:</strong>{{message}}
            </div>
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    setTimeout(function() {
                        let alert = document.querySelector(".alert-{{category}}");
                        if (alert) {
                            alert.style.display = "none";
                        }
                    }, 2200); // 2200 milliseconds = 1 second
                });
            </script>
            {% endfor %}
        {% endif %}
    {% endwith %}
    
        <!-- This is Nav Bar -->
        <header>
            <nav>
                <input type="checkbox" id="check">
                <label for="check" class="checkbtn">
                    <i class="fas fa-bars"></i>
                </label>
                <label class="logo">Brain Mentor</label>
                <ul id="menu">
                    <li><a href="/home">Home</a></li>
                    <li><a href="/detection">Detection</a></li>
                    <li><a href="/doctors">Doctors</a></li>
                    <li><a href="/patient_treat">Treatments</a></li>
                    <li><a href="/blog">Blogs</a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
                
                
            </nav>
        </header>

        <!-- Home Content -->
        <main>
            <section class="main">

                <div class="image-overlay">
                    <div class="home-text">

                        <h1><span>BrainMentor</span></h1>
                        <p>
                            Welcome to BrainMentor!
                            <br>  Your journey to a healthier future starts here!
                        </p>
                        <a href="doctors" class="btn">Consult</a>

<!-- Chatbot
Chat icon to toggle the chatbot -->
<div class="chat-icon" onclick="toggleChatbot()">
    <i class="fa fa-comments"></i>
</div>

<div class="wrapper" id="chatbot-container">
    <div class="title">Chatbot</div>
    <div class="box" id="chatbox"> <!-- Added an ID to the chatbox for easy access -->
        <div class="item">
            <div class="icon">
              
            </div>
            <div class="msg">
                <p>Hello everyone, How are you?</p>
            </div>
        </div>
        <br clear="both">
    </div>

    <div class="typing-area">
        <div class="input-field">
            <input type="text" id="user-input" placeholder="Type your message" required>
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    // Function to toggle the visibility of the chatbot
    function toggleChatbot() {
        var chatbotContainer = $('#chatbot-container');
        chatbotContainer.toggle();
        scrollToBottom();
    }

    // Function to send a message when the send button is clicked or Enter key is pressed
    function sendMessage() {
        var userQuery = $('#user-input').val();
        if (userQuery.trim() !== '') {
            appendUserMessage(userQuery);

            $.ajax({
                type: 'POST',
                url: '/get_response',
                data: { user_query: userQuery },
                success: function (response) {
                    appendChatbotMessage(response.response);
                    scrollToBottom();
                }
            });

            $('#user-input').val('');
        }
    }

    // Function to append user's message to the chat display
    function appendUserMessage(message) {
        $('.box').append('<div class="item right"><div class="msg"><p>' + message + '</p></div><div class="icon user-icon"></div></div><br clear="both">');
    }

    // Function to append chatbot's message to the chat display
    function appendChatbotMessage(message) {
        $('.box').append('<div class="item"><div class="icon"></div><div class="msg"><p>' + message + '</p></div></div><br clear="both">');
    }

    // Function to scroll to the bottom of the chatbox with a smooth scroll effect
    function scrollToBottom() {
        var chatbox = document.getElementById("chatbox");
        // Smooth scroll effect
        $('#' + chatbox.id).animate({ scrollTop: chatbox.scrollHeight }, 800);
    }

    // Listen for the Enter key press on the input field
    $('#user-input').keypress(function (e) {
        if (e.which === 13) { // 13 is the key code for Enter
            sendMessage();
        }
    });
</script>



                    </div>
                </div>
            </section>

    
            <!-- About Us -->

            <section class="section_doctors">
                <div class="info-doctors">
                    <h3>About Brain Tumor</h3>
                    <div class="line_doctors"></div>
                    <div class="D_paragraph_wraper">
                        <p>Lorem ipsum dolor sit amet, consectetur
                            adipiscing
                            elit.
                            Fusce vitae risus nec dui venenatis
                            dignissim.
                            Aenean
                            vitae metus in augue pretium ultrices.</p>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <i class="fa fa-calendar"></i>
                            <div class="info-div">
                                <h3>Book an Appointment</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>

                        <div class="column">
                            <i class="fa fa-stethoscope"></i>
                            <div class="info-div">
                                <h3>Consult with a Doctor</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>
                        <div class="column">
                            <i class="fa fa-user-md"></i>
                            <div class="info-div">
                                <h3>Make a family Doctor</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>
                    </div>


                </section>


                <section class="section_doctors">
                    <div class="info-doctors">
                        <h3 style="margin-top: 30px;">Blogs</h3>
                        <div class="line_doctors"></div>
                       
                <div class="container">
                    <div class="row">
                        {% for blog in blogs %}
                        <div class="col-md-4 mb-4">
                            <div class="card" style="width: 18rem;">
                                {% if blog.base64_image %}
                                    <!-- Display the image from Base64 encoded data -->
                                    <img src="data:image/jpeg;base64,{{ blog.base64_image }}" class="card-img-top" alt="{{ blog.tit_name }}">
                                {% else %}
                                    <!-- Display a placeholder image if base64_image is empty -->
                                    <img src="{{ url_for('static', filename='placeholder.jpg') }}" class="card-img-top" alt="Placeholder Image">
                                {% endif %}
                                <div class="card-body">
                                    <h5 class="card-title">{{ blog.tit_name }}</h5>
                                    <p class="card-text">{{ blog.content }}</p>
                                    <p class="card-text"><small class="text-muted">By {{ blog.author }} on {{ blog.pub_date.strftime('%B %d, %Y') }}</small></p>
                                    <!-- You can add more information here if needed -->
                                    <a href="/blogs_deatil/{{blog.blog_id}}" class="stretched-link btn btn-primary">Read More</a>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </section>
                
                
                

               
               <!-- Fallback to local Bootstrap JS file if CDN fails -->
<script src="{{ url_for('static', filename='bootstrap/js/bootstrap.bundle.min.js') }}"></script>
                            
                            
                </section>
               
                    
              
                    <!-- Footer -->
                    <footer class="footer">
                        <div class="container">
                            <div class="row">
                                <div class="footer-col">
                                    <h2>Location</h2>
                                    <span><h5>Address:</h5>
                                        Pakistan Kamra Rd,<br>
                                        Attock City, 43600<br></span>
                                    <span><h5>Phone:</h5>(750) 435-6352</span>
                                    <span><h5>Fax:</h5>(750) 435-6352</span>
                                </div>
                                <div class="footer-col">
                                    <h2>Blog</h2>
                                    <ul>
                                        <li><a href="#">Right Sidebar</a></li>
                                        <li><a href="#">Left Sidebar</a></li>
                                        <li><a href="#">Full Width </a></li>
                                        <li><a href="#">Blog Grid </a></li>
                                        <li><a href="#">Blog Details </a></li>
                                    </ul>
                                </div>
                                <div class="footer-col">
                                    <h2>Appointment</h2>
                                    <p>Lorem ipsum dolor, sit amet consectetur<br>
                                        adipisicing elit. nemo obcaecati.</p>
                                    <div class="social-links">
                                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                                        <a href="#"><i class="fab fa-twitter"></i></a>
                                        <a href="#"><i
                                                class="fab fa-linkedin-in"></i></a>
                                        <a href="#"><i
                                                class="fab fa-google-plus"></i></a>
                                        <a href="#"><i class="fab fa-youtube"></i></a>
                                    </div>
                                </div>
                            </div>

                            <hr>
                            <div class="copyright">
                                <span>© 2023 BrainMentor. All rights reserved.</span>
                            </div>
                        </div>
                    </footer>
                </main>

               
                    <script>
                        document.addEventListener("DOMContentLoaded", function() {
                            var links = document.querySelectorAll("#menu a");
                            
                            // Add click event listener to each link
                            links.forEach(function(link) {
                                link.addEventListener("click", function(event) {
                                    // Remove "active" class from all links
                                    links.forEach(function(otherLink) {
                                        otherLink.classList.remove("active");
                                    });
                    
                                    // Add "active" class to the clicked link
                                    this.classList.add("active");
                                });
                            });
                    
                            // Set initial active link based on the current URL path
                            var currentPath = window.location.pathname;
                            links.forEach(function(link) {
                                // Check if the current URL contains the link's href value
                                if (currentPath.indexOf(link.getAttribute("href")) !== -1) {
                                    link.classList.add("active");
                                }
                            });
                        });
                    </script>
                    
                    
                    
                   
   
    
                    {% else %}
                        
        <!-- Account Creation Message -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{category}} alert-dismissible fade show"
                role="alert">
                <strong>Message:</strong>{{message}}
            </div>
            <script>
                document.addEventListener("DOMContentLoaded", function() {
                    setTimeout(function() {
                        let alert = document.querySelector(".alert-{{category}}");
                        if (alert) {
                            alert.style.display = "none";
                        }
                    }, 2200); // 2200 milliseconds = 1 second
                });
            </script>
            {% endfor %}
        {% endif %}
    {% endwith %}
    

        
        <!-- This is Nav Bar -->
        <header>
            <nav>
                <input type="checkbox" id="check">
                <label for="check" class="checkbtn">
                    <i class="fas fa-bars"></i>
                </label>
                <label class="logo">Brain Mentor</label>
                <ul id="menu">
                    <li><a href="/home">Home</a></li>
                    <li><a href="/detection">Detection</a></li>
                    <li><a href="/doctors">Doctors</a></li>
                    <li><a href="/patient_treat">Treatments</a></li>
                    <li><a href="/blog">Blogs</a></li>
                    <li><a href="/logout">Logout</a></li>
                </ul>
                
            </nav>
        </header>

        <!-- Home Content -->
        <main>
            <section class="main">

                <div class="image-overlay">
                    <div class="home-text">

                        <h1><span>BrainMentor</span></h1>
                        <p>
                            Welcome to BrainMentor!
                            <br>  Your journey to a healthier future starts here!
                        </p>
                        <a href="doctors" class="btn">Consult</a>

<!-- Chatbot
Chat icon to toggle the chatbot -->
<div class="chat-icon" onclick="toggleChatbot()">
    <i class="fa fa-comments"></i>
</div>

<div class="wrapper" id="chatbot-container">
    <div class="title">Chatbot</div>
    <div class="box" id="chatbox"> <!-- Added an ID to the chatbox for easy access -->
        <div class="item">
            <div class="icon">
              
            </div>
            <div class="msg">
                <p>Hello everyone, How are you?</p>
            </div>
        </div>
        <br clear="both">
    </div>

    <div class="typing-area">
        <div class="input-field">
            <input type="text" id="user-input" placeholder="Type your message" required>
            <button onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    // Function to toggle the visibility of the chatbot
    function toggleChatbot() {
        var chatbotContainer = $('#chatbot-container');
        chatbotContainer.toggle();
        scrollToBottom();
    }

    // Function to send a message when the send button is clicked or Enter key is pressed
    function sendMessage() {
        var userQuery = $('#user-input').val();
        if (userQuery.trim() !== '') {
            appendUserMessage(userQuery);

            $.ajax({
                type: 'POST',
                url: '/get_response',
                data: { user_query: userQuery },
                success: function (response) {
                    appendChatbotMessage(response.response);
                    scrollToBottom();
                }
            });

            $('#user-input').val('');
        }
    }

    // Function to append user's message to the chat display
    function appendUserMessage(message) {
        $('.box').append('<div class="item right"><div class="msg"><p>' + message + '</p></div><div class="icon user-icon"></div></div><br clear="both">');
    }

    // Function to append chatbot's message to the chat display
    function appendChatbotMessage(message) {
        $('.box').append('<div class="item"><div class="icon"></div><div class="msg"><p>' + message + '</p></div></div><br clear="both">');
    }

    // Function to scroll to the bottom of the chatbox with a smooth scroll effect
    function scrollToBottom() {
        var chatbox = document.getElementById("chatbox");
        // Smooth scroll effect
        $('#' + chatbox.id).animate({ scrollTop: chatbox.scrollHeight }, 800);
    }

    // Listen for the Enter key press on the input field
    $('#user-input').keypress(function (e) {
        if (e.which === 13) { // 13 is the key code for Enter
            sendMessage();
        }
    });
</script>



                    </div>
                </div>
            </section>

    
            <!-- About Us -->

            <section class="section_doctors">
                <div class="info-doctors">
                    <h3>About Brain Tumor</h3>
                    <div class="line_doctors"></div>
                    <div class="D_paragraph_wraper">
                        <p>Lorem ipsum dolor sit amet, consectetur
                            adipiscing
                            elit.
                            Fusce vitae risus nec dui venenatis
                            dignissim.
                            Aenean
                            vitae metus in augue pretium ultrices.</p>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <i class="fa fa-calendar"></i>
                            <div class="info-div">
                                <h3>Book an Appointment</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>

                        <div class="column">
                            <i class="fa fa-stethoscope"></i>
                            <div class="info-div">
                                <h3>Consult with a Doctor</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>
                        <div class="column">
                            <i class="fa fa-user-md"></i>
                            <div class="info-div">
                                <h3>Make a family Doctor</h3>
                                <p>Lorem ipsum dolor sit amet
                                    consectetur adipisicing elit.
                                    Natus ullam debitis tempore eveniet sunt</p>
                            </div>
                        </div>
                    </div>


                </section>
               
                <section class="section_doctors">
                    <div class="info-doctors">
                        <h3 style="margin-top: 30px;">Blogs</h3>
                        <div class="line_doctors"></div>
                        <div class="container" style="margin-top: -60px;">
                            <div class="row">
                                {% for blog in blogs %}
                                <div class="col-md-4 mb-4">
                                    <div class="card" style="width: 18rem;">
                                        {% if blog.base64_image %}
                                            <!-- Display the image from Base64 encoded data with fixed size -->
                                            <img src="data:image/jpeg;base64,{{ blog.base64_image }}" class="card-img-top" alt="{{ blog.tit_name }}" style="width: 250px; height: 200px; object-fit: cover;">
                                        {% else %}
                                            <!-- Display a placeholder image if base64_image is empty -->
                                            <img src="{{ url_for('static', filename='placeholder.jpg') }}" class="card-img-top" alt="Placeholder Image" style="width: 300px; height: 300px; object-fit: cover;">
                                        {% endif %}
                                        <div class="card-body" style="max-height: 220px; overflow: hidden;">
                                            <h5 class="card-title">{{ blog.tit_name }}</h5>
                                            <p class="card-text">
                                                {% if blog.content | length > 30 %}
                                                    {{ blog.content[:30] }}...
                                                {% else %}
                                                    {{ blog.content }}
                                                {% endif %}
                                            </p>
                                            <p class="card-text"><small class="text-muted" style="font-style: italic;">By {{ blog.author }} on {{ blog.pub_date.strftime('%B %d, %Y') }}</small></p>
                                            <!-- You can add more information here if needed -->
                                            <a href="/blogs_detail/{{blog.blog_id}}" class="stretched-link btn btn-primary">Read More</a>
                                        </div>
                                    </div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                        
                    </div>
                </section>
                
                
                
                
                

               
               <!-- Fallback to local Bootstrap JS file if CDN fails -->
<script src="{{ url_for('static', filename='bootstrap/js/bootstrap.bundle.min.js') }}"></script>

                    
              
                    <!-- Footer -->
                    <footer class="footer">
                        <div class="container">
                            <div class="row">
                                <div class="footer-col">
                                    <h2>Location</h2>
                                    <span><h5>Address:</h5>
                                        Pakistan Kamra Rd,<br>
                                        Attock City, 43600<br></span>
                                    <span><h5>Phone:</h5>(750) 435-6352</span>
                                    <span><h5>Fax:</h5>(750) 435-6352</span>
                                </div>
                                <div class="footer-col">
                                    <h2>Blog</h2>
                                    <ul>
                                        <li><a href="#">Right Sidebar</a></li>
                                        <li><a href="#">Left Sidebar</a></li>
                                        <li><a href="#">Full Width </a></li>
                                        <li><a href="#">Blog Grid </a></li>
                                        <li><a href="#">Blog Details </a></li>
                                    </ul>
                                </div>
                                <div class="footer-col">
                                    <h2>Appointment</h2>
                                    <p>Lorem ipsum dolor, sit amet consectetur<br>
                                        adipisicing elit. nemo obcaecati.</p>
                                    <div class="social-links">
                                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                                        <a href="#"><i class="fab fa-twitter"></i></a>
                                        <a href="#"><i
                                                class="fab fa-linkedin-in"></i></a>
                                        <a href="#"><i
                                                class="fab fa-google-plus"></i></a>
                                        <a href="#"><i class="fab fa-youtube"></i></a>
                                    </div>
                                </div>
                            </div>

                            <hr>
                            <div class="copyright">
                                <span>© 2023 BrainMentor. All rights reserved.</span>
                            </div>
                        </div>
                    </footer>
                </main>

             
                    <script>
                        document.addEventListener("DOMContentLoaded", function() {
                            var links = document.querySelectorAll("#menu a");
                            
                            // Add click event listener to each link
                            links.forEach(function(link) {
                                link.addEventListener("click", function(event) {
                                    // Remove "active" class from all links
                                    links.forEach(function(otherLink) {
                                        otherLink.classList.remove("active");
                                    });
                    
                                    // Add "active" class to the clicked link
                                    this.classList.add("active");
                                });
                            });
                    
                            // Set initial active link based on the current URL path
                            var currentPath = window.location.pathname;
                            links.forEach(function(link) {
                                // Check if the current URL contains the link's href value
                                if (currentPath.indexOf(link.getAttribute("href")) !== -1) {
                                    link.classList.add("active");
                                }
                            });
                        });
                    </script>
                    
                    
                    
                    {% endif %}
                  

   
            </body>

        </html>